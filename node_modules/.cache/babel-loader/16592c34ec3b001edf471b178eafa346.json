{"ast":null,"code":"import _slicedToArray from \"/Users/jayc/Desktop/stanger/stanger/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/jayc/Desktop/stanger/stanger/src/register.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Header from './header';\nfunction Register(props) {\n  var _this = this;\n  var navigate = useNavigate();\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    pwd = _useState2[0],\n    setPWD = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    error = _useState4[0],\n    setError = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    success = _useState6[0],\n    setSuccess = _useState6[1];\n  var _useState7 = useState(''),\n    _useState8 = _slicedToArray(_useState7, 2),\n    message = _useState8[0],\n    setMessage = _useState8[1];\n  useEffect(function () {\n    if (success) {\n      setTimeout(function () {\n        navigate('/');\n        //console.log(\"1\");\n      }, 2000);\n    }\n  });\n  var handlePassword = function handlePassword(event) {\n    setPWD(event.target.value);\n  };\n  var handleEmail = function handleEmail(event) {\n    props.setUsername(event.target.value);\n  };\n  var submitHandler = function submitHandler(event) {\n    event.preventDefault();\n    if (props.username === '' || pwd === '') {\n      setError(true);\n      setSuccess(false);\n      setMessage(\"Email and Password can not be blank.\");\n    } else {\n      setError(false);\n      fetch('https://strangers-things.herokuapp.com/api/2207-FTB-ET-WEB-PT/users/register', {\n        method: \"POST\",\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          user: {\n            username: props.username,\n            password: pwd\n          }\n        })\n      }).then(function (response) {\n        return response.json();\n      }).then(function (result) {\n        //console.log(result);\n        if (result.success) {\n          props.setToken(result.data.token);\n          setSuccess(true);\n          window.localStorage.setItem('Token', result.data.token);\n          window.localStorage.setItem('User', props.username);\n          setMessage(\"Success~ Redirecting to your profile page now...\");\n        } else {\n          setError(true);\n          setMessage(\"Something wrong with the endpoint.\");\n        }\n      }).catch(console.log(error));\n    }\n  };\n  var errorMessage = function errorMessage() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"error\",\n      style: {\n        display: error ? 'block' : 'none'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      style: {\n        color: error ? 'red' : ''\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    }, message));\n  };\n  var successMessage = function successMessage() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"error\",\n      style: {\n        display: success ? 'block' : 'none'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      style: {\n        color: success ? 'green' : ''\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }\n    }, message));\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"registerPage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    token: props.token,\n    setToken: props.setToken,\n    setUsername: props.setUsername,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 21\n    }\n  }, \"Registration\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"messages\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, errorMessage(), successMessage()), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: submitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"label loginInput\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 25\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handleEmail,\n    className: \"input\",\n    value: props.username === null ? \"\" : props.username,\n    type: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"label loginInput\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 25\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handlePassword,\n    className: \"input\",\n    value: pwd,\n    type: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"regSubBtn\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 21\n    }\n  }, \"Submit\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 21\n    }\n  }, \"Already Have an Account? \", /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/account/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 49\n    }\n  }, \"Login Here\")))));\n}\nexport default Register;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Header","Register","props","navigate","pwd","setPWD","error","setError","success","setSuccess","message","setMessage","setTimeout","handlePassword","event","target","value","handleEmail","setUsername","submitHandler","preventDefault","username","fetch","method","headers","body","JSON","stringify","user","password","then","response","json","result","setToken","data","token","window","localStorage","setItem","catch","console","log","errorMessage","display","color","successMessage"],"sources":["/Users/jayc/Desktop/stanger/stanger/src/register.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Header from './header';\r\n\r\nfunction Register(props) {\r\n    const navigate = useNavigate();\r\n    const [pwd, setPWD] = useState('');\r\n    const [error, setError] = useState(false);\r\n    const [success, setSuccess] = useState(false);\r\n    const [message, setMessage] = useState('');\r\n\r\n    useEffect(()=>{\r\n        if(success){\r\n            setTimeout(()=>{\r\n                navigate('/');\r\n                //console.log(\"1\");\r\n            }, 2000);\r\n        }\r\n    });\r\n\r\n\r\n    const handlePassword = (event) => {\r\n        \r\n        setPWD(event.target.value);\r\n    }\r\n\r\n    const handleEmail = (event) => {\r\n        \r\n        props.setUsername(event.target.value);\r\n    }\r\n\r\n    const submitHandler = (event) => {\r\n        event.preventDefault();\r\n        if(props.username === '' || pwd === ''){\r\n            setError(true);\r\n            setSuccess(false);\r\n            setMessage(\"Email and Password can not be blank.\")\r\n        }\r\n        else{\r\n            setError(false);\r\n            \r\n            fetch('https://strangers-things.herokuapp.com/api/2207-FTB-ET-WEB-PT/users/register', {\r\n                method:\"POST\",\r\n                headers:{\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body:JSON.stringify({\r\n                    user:{\r\n                        username: props.username,\r\n                        password: pwd\r\n                    }\r\n                })\r\n            }).then(response => response.json()).then(result => {\r\n                //console.log(result);\r\n                if(result.success){\r\n                    props.setToken(result.data.token);\r\n                    setSuccess(true);\r\n                    window.localStorage.setItem('Token', result.data.token);\r\n                    window.localStorage.setItem('User', props.username);\r\n                    setMessage(\"Success~ Redirecting to your profile page now...\");\r\n                }\r\n                else{\r\n                    setError(true);\r\n                    setMessage(\"Something wrong with the endpoint.\");\r\n                    \r\n                }\r\n                \r\n            }).catch(console.log(error))\r\n        }\r\n\r\n    }\r\n\r\n    const errorMessage = () => {\r\n        return (\r\n            <div className=\"error\" style={{display: error ? 'block' : 'none'}}>\r\n                <h4 style={{color: error? 'red': ''}}>{message}</h4>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const successMessage = () => {\r\n        return (\r\n            <div className=\"error\" style={{display: success ? 'block' : 'none'}}>\r\n                <h4 style={{color: success? 'green': ''}}>{message}</h4>\r\n            </div>\r\n        );\r\n    }\r\n    return (\r\n        <div className=\"registerPage\">\r\n            <Header token={props.token} setToken={props.setToken} setUsername={props.setUsername}/>\r\n            <div className=\"form text-center\">\r\n                <div>\r\n                    <h1>Registration</h1>\r\n                </div>\r\n            \r\n                {/* Calling to the methods */}\r\n                <div className=\"messages\">\r\n                    {errorMessage()}\r\n                    {successMessage()}\r\n                </div>\r\n            \r\n                <form onSubmit={submitHandler}>\r\n                    {/* Labels and inputs for form data */}\r\n                    <div>\r\n                        <label className=\"label loginInput\">Email</label>\r\n                        <input onChange={handleEmail} className=\"input\"\r\n                        value={props.username === null ? \"\" : props.username} type=\"email\" />\r\n                    </div>\r\n                    \r\n                    <div>\r\n                        <label className=\"label loginInput\">Password</label>\r\n                        <input onChange={handlePassword} className=\"input\"\r\n                        value={pwd} type=\"password\" />\r\n                    </div>\r\n                    \r\n                    {/*onClick={handleSubmit}*/}\r\n                    <button className=\"regSubBtn\" type=\"submit\">\r\n                        Submit\r\n                    </button>\r\n\r\n                </form>\r\n                <div className=\"text-center\">\r\n                    <p>Already Have an Account? <a href=\"/account/login\">Login Here</a></p>\r\n                </div>\r\n            </div>\r\n            \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Register;"],"mappings":"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"},"metadata":{},"sourceType":"module"}